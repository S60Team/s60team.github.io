<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Store img in IndexedDB</title>
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <link rel="shortcut icon" href="favicon.ico">
  <meta name="description" content="Store image in indexedDB with JavaScript and LQIP technique.">
  <meta http-equiv="Accept-CH" content="DPR, Viewport-Width, Width" />
  <style type="text/css">
    body{
      font-family: "Segoe UI",Roboto,"Helvetica Neue","Noto Sans","Liberation Sans",
        Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";
      padding:0;margin: 0;background-color:#cccccc;}
    #main{margin: 0 auto;max-width: 960px;background-color: #ffffff;padding:0 10px;}
    #main h1{text-align: center;padding-top: 10px;margin-top: 0;}
    .big{font-size: 28px;font-weight: bold;}
    .bold{font-weight: bold;}
    .image{border-radius: 3px;}
    .image{max-width: 100%;height: auto;}
    details summary{cursor: pointer;padding: 8px 16px;background: #272822;color: #ffffff;border-radius: 3px;}
    details[open] summary{border-radius: 3px 3px 0 0;}
    pre{word-wrap: break-word;white-space: pre-wrap;background: #272822;color: #ffffff;padding: 8px 12px;margin:0;}
  </style>
</head>
<body>
  <div id="main">
    <img decoding="async" id="pdf_download" alt="A PDF download image" width="300px" height="300px" src="data:image/png;charset=UTF-8;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAzCAMAAAANf8AYAAADAFBMVEWjHyzk5OTKjJHDJTWRkZHh4eEFBQWk0k2dnZ2ioqLQ7JC0IjDO7XGy3FfW8Xnr6+vY2Njm5uaoUFjR0NCr11LAwMC2bXTd3d3Nzc3U1NS942CVAA2ZuFjKcnfr19m9vb2ItDvGxsaujI6RLzqVSE/JycnK6217e3uMuT2Li4vh87OFsTnx5+ilAAu6urqUHCiDrjhpaWmZyUWJAA6EGSPkxsmSwUGqqqqJGiWbO0TUAAWtIS+5IzK1AAm431zGMUCYHCmdHiqXcHSgylaDg4O0tLTFAAd/qDatra2BqzfB5mV3ABDYx8lycnKQvkCMGibo6Ojj59eQGyfR73WxsbGnyGectmS8y5vXp6uLs0LbuLrGfoPjsLOoIC6yW2OXgYO2zIXARk6lvHWfwlqOuz758vOVxUOGChe9JDPOmZ6hKTSdzEiz1nOWCBW5vK/d48+txnfo7ODeAATZ76OUuk2MrkTG06eyzXrEuLnS276r0mV4FiCptY718PG6np+23WzE6GfF5YKvPEWQW2DmaWuAAA+ZDxrekJOmND7X38S93nuIrj2PsUe2IyvAzqGmpqamChXw5OXFOD28srPMqazjJinn6ebEEhfH6Wrt3N7HLC+0ExucJC6XvlCdGiZuFB3s7eqUrF2KtzzFXWOUwkLLzsTTQUSrExznWVvGChF7nDCLHCnoz9HVLC+TEyB9EB+MDRvm5uTw8e36+PmxCRKXl5eLFSOCHivy8vHy7+/z6+tzFh+SsVDTGh3M2LKWw0eRv0DdrLCbFCC7uLjcn6OXyEKGqDr+/v78/Pz9/f37+/v6+vr29vb5+fn19fX09PT39/fx8fHw8PDy8vLz8/Pv7+/4+Pju7u7t7e3s7Oy7IzKhz0qXxkTr7Onp6uf59/j39PTx8vHAJDSSwkC8KS+rLTa4MTzjMTTiwMPs7+WGPEX19fTb29vGv7/Dw8P08vKIJjHOxsbDHCLu7+v18/PeCg7f9p63t7fEyraQt0eQqlO9rK2zp6ibxVL///8AAACLsjU+AAABAHRSTlP///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8AU/cHJQAAArlJREFUSInt1D9oE3EUwPGkRKxUvYYY2hghBhtCrVesESJtUlowrVKE0tZNHawVnITi6KQEERdHEQR1E4rt4qCDKAhJ7q53+du7TIK4KQ4ut734fu93SZP0d1FX8Uv4NbTv0987WuJp/H2ef9r4vbv5sUX/vsHfmeGuAsPRWFBsvvTIzoAkMikKYC2VWgOgt5ByyqwAiMwAhYPAjwE6ePZKtBuRmaIApoAO9rWVnfFBFyJzFfN4ADxAB3sBfoOybWZgj5ml2I9mmy+YdRrnBrrNDAXADxiZgZlWkUh//NLERAy6zBIFQAfk8FxqFYwmfefj8fhovtOc61EsELlw4I3P158MdZizPRoeCkQjdmYlE4l1mFbBjn5gUa/fO/R9MBQIDQ6JjXSSkljr755almnWTKsuSYuY5GKWlw9jklSv19etB4zUauVyqVQpVSpVsakfpFBY1uSuYKBqGC7mCWVh5iQX7BJOdLGxjlImVpt7Plluu0TXXYw5PX0IYzfUXn39yYVDNE1sakco2qk8d6UliBRdzH6qTEvNccH3QuJiymeoEquSDnFBlyDZ2WseHcNuUuzd+2o6zQEXxR2BaVz+0NZqNV2VzXaxvS3a7dmNVquGljbeyu1iWxU+z8tmdwxD/qTrj2VHIFFVsWmMjY0dZ+FKOK5pYdkRSBRFbL6dpnAjmS91T06OhLERRVHyYqPfvogZ7AYExVE2HrZwrY2EkncxVv36/PxD/IcO697X4Vu01OdE4j5eki8UxCY4bt99YY8Hg9k+Nk9PjlttLG0VCoWc2BQ1Hf+K2kaCPzYXeXZH4WPOxdDvTp46saU2gSNyudzux+Ieo2aLataZdwAXbgZnN6+p2eZ88woSbgZHF5SFvnxzvg24GpzcXFh05jtBL8PHab5TuJm28a55d+M63sP8Wf9No/ELEnkdJaGbKS8AAAAASUVORK5CYII=
" />
    <br />
    <img decoding="async" id="fox" class="image" alt="A fox image" width="960px" height="727px" src="data:image/jpeg;charset=UTF-8;base64,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" />
  </div>
<script type="text/javascript">
function StoreImageInIDB(e,t){
var n,r="MozAppearance"in document.documentElement.style==!0||"mozInnerScreenX"in window,o=window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.OIndexedDB||window.msIndexedDB,i=window.IDBTransaction||window.webkitIDBTransaction||window.OIDBTransaction||window.msIDBTransaction,c=window.URL||window.webkitURL,s=o.open("s60teamFiles",1),a=function(){
var t,n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.addEventListener("load",function(){200===n.status&&(t=n.response,u(t))},!1),n.send()},d=function(e){if(-1==e.indexOf(";base64,")){
var t=(r=e.split(","))[0].split(":")[1],n=r[1];return new Blob([n],{type:t})}t=(r=e.split(";base64,"))[0].split(":")[1];for(var r,o=(n=window.atob(r[1])).length,i=new Uint8Array(o),c=0;c<o;++c)i[c]=n.charCodeAt(c);return new Blob([i],{
type:t})},u=function(e){function o(e){var o=n.transaction(["pictures"],i.READ_WRITE?i.READ_WRITE:"readwrite");try{o.objectStore("pictures").put(e,t);o.objectStore("pictures").get(t).onsuccess=function(e){var n=e.target.result
;!1===r&&(n=d(n));var o=(window.URL||window.webkitURL).createObjectURL(n);document.getElementById(t).setAttribute("src",o)}}catch(e){}}!0===r?o(e):function(e,t){var n=new FileReader;n.onload=function(e){t(e.target.result)},
n.readAsDataURL(e)}(e,o)};s.onerror=function(e){},s.onsuccess=function(e){(n=s.result).onerror=function(e){};var o=n.transaction(["pictures"],"readwrite");o.objectStore("pictures").get(t).onsuccess=function(e){try{var n=e.target.result
;if(!1===r)if(void 0!==n){document.getElementById(t).setAttribute("src",n)}else{var o=c.createObjectURL(n);document.getElementById(t).setAttribute("src",o)}else{o=c.createObjectURL(n);document.getElementById(t).setAttribute("src",o)}
}catch(e){a()}},o.objectStore("pictures").get(t).onerror=function(e){a()}},s.onupgradeneeded=function(e){e.target.result.createObjectStore("pictures")}}
// Example:
  StoreImageInIDB('pdf-download-icon-with-green-arrow.png', 'pdf_download');
  StoreImageInIDB('fox-960.jpg', 'fox');
</script>
</body>
</html>
